<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Covalent Bonding Coach</title>
  <link rel="stylesheet" href="lewis.css" />
</head>
<body>
  <header class="topbar">
    <div class="brand">
      <div class="brand-dot" aria-hidden="true"></div>
      <div>
        <div class="brand-title">Covalent Bonding Coach</div>
        <div class="brand-sub">Count valence electrons → choose/lock central atom → build the Lewis model.</div>
      </div>
    </div>

    <!-- ✅ Toggle pills + existing New molecule button -->
    <div class="topbar-right">
      <nav class="tabs" aria-label="Mode">
        <a class="tab tab-active" href="./index.html">Guided Build</a>
        <a class="tab" href="./practice.html">Independent Practice</a>
      </nav>
      <button id="btnNew" class="btn btn-light">New molecule</button>
    </div>
  </header>

  <main class="wrap">
    <section class="card molecule-card">
      <div class="molecule-label">MOLECULE</div>
      <div id="molName" class="molecule-name">—</div>
      <div id="molHint" class="molecule-hint">Loading…</div>
    </section>

    <section class="card">
      <div class="card-title">Step 1: Count electrons + choose the central atom</div>
      <div class="card-sub">
        You must confirm the <b>total valence electrons</b> before building. (Example: O has 6, so O₂ has 12.)
      </div>

      <div class="grid-2">
        <div class="panel">
          <label class="label">Total valence electrons (number)</label>
          <div class="row">
            <input id="electronInput" class="input" type="number" inputmode="numeric" placeholder="Enter total…" />
            <button id="btnCheckElectrons" class="btn btn-primary">Check</button>
          </div>
          <div id="electronMsg" class="msg msg-warn" style="display:none;"></div>

          <div class="divider"></div>

          <label class="label">Central atom</label>
          <div class="row">
            <select id="centralSelect" class="select" disabled>
              <option value="">Select…</option>
            </select>
            <button id="btnLockCentral" class="btn btn-primary" disabled>Lock central atom</button>
            <button id="btnReset" class="btn btn-light">Reset build</button>
          </div>
          <div id="centralMsg" class="msg msg-soft">Check the total electrons first.</div>
        </div>

        <div class="panel bank">
          <div class="bank-top">
            <div>
              <div class="bank-title">Electron bank</div>
              <div class="bank-sub">Bonds and lone pairs spend electrons.</div>
            </div>
            <div class="bank-badges">
              <div class="badge">
                <div class="badge-label">Total</div>
                <div id="bankTotal" class="badge-num">—</div>
              </div>
              <div class="badge">
                <div class="badge-label">Remaining</div>
                <div id="bankRemain" class="badge-num">—</div>
              </div>
            </div>
          </div>

          <div id="bankNote" class="msg msg-warn">
            Electron bank will appear after you correctly confirm the total valence electrons.
          </div>

          <ul class="rules">
            <li>Single bond costs <b>2 e⁻</b></li>
            <li>Double bond costs <b>4 e⁻</b></li>
            <li>Triple bond costs <b>6 e⁻</b></li>
            <li>Lone pair (<b>••</b>) costs <b>2 e⁻</b></li>
          </ul>
        </div>
      </div>
    </section>

    <section class="card">
      <div class="row between">
        <div>
          <div class="card-title">Step 2: Build the model</div>
          <div class="card-sub">
            Drag <b>one bond</b> into the space <b>between atoms</b>. Drag lone pairs (<b>••</b>) into the boxes around atoms. Click a placed item to remove it.
          </div>
        </div>
        <div class="row">
          <button id="btnCheckModel" class="btn btn-primary" disabled>Check molecule</button>
          <button id="btnShowAnswer" class="btn btn-light" disabled>Show correct model</button>
          <button id="btnClear" class="btn btn-light" disabled>Clear placements</button>
        </div>
      </div>

      <div class="grid-2 wide-left">
        <div class="panel">
          <div class="panel-title">Model</div>

          <div id="stage" class="stage">
            <div id="stageOverlay" class="stage-overlay">
              Confirm total valence electrons and lock the central atom to begin.
            </div>
          </div>

          <div id="buildTip" class="msg msg-soft">
            Build the skeleton first (bonds), then use lone pairs (••) to complete outer shells.
          </div>

          <div id="feedback" class="msg msg-soft" style="display:none;"></div>
        </div>

        <div class="panel">
          <div class="panel-title">Toolbox</div>

          <div class="toolbox">
            <div class="tool" draggable="true" data-tool="bond1">
              <div class="tool-icon">
                <span class="bond bond1"></span>
              </div>
              <div>
                <div class="tool-name">Single bond</div>
                <div class="tool-cost">Costs 2 e⁻</div>
              </div>
            </div>

            <div class="tool" draggable="true" data-tool="bond2">
              <div class="tool-icon">
                <span class="bond bond2"></span>
              </div>
              <div>
                <div class="tool-name">Double bond</div>
                <div class="tool-cost">Costs 4 e⁻</div>
              </div>
            </div>

            <div class="tool" draggable="true" data-tool="bond3">
              <div class="tool-icon">
                <span class="bond bond3"></span>
              </div>
              <div>
                <div class="tool-name">Triple bond</div>
                <div class="tool-cost">Costs 6 e⁻</div>
              </div>
            </div>

            <div class="tool" draggable="true" data-tool="lp">
              <div class="tool-icon">
                <span class="lp">••</span>
              </div>
              <div>
                <div class="tool-name">Lone pair</div>
                <div class="tool-cost">Costs 2 e⁻</div>
              </div>
            </div>
          </div>

          <div class="msg msg-warn" style="margin-top:12px;">
            <b>Quick reminders</b>
            <ul style="margin:8px 0 0 18px;">
              <li>Hydrogen makes <b>1 bond</b> and has <b>0 lone pairs</b>.</li>
              <li>Halogens (F, Cl, Br) usually make <b>1 bond</b> and have <b>3 lone pairs</b>.</li>
              <li>Oxygen often has <b>2 bonds</b> total and <b>2 lone pairs</b>.</li>
              <li>Nitrogen often has <b>3 bonds</b> total and <b>1 lone pair</b>.</li>
            </ul>
          </div>
        </div>
      </div>
    </section>
  </main>

  <script src="lewis.js"></script>
</body>
</html>
