<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Covalent Bonding Coach</title>
  <link rel="stylesheet" href="lewis.css" />
</head>
<body>
  <header class="topbar">
    <div class="topbarInner">
      <div class="brandMark" aria-hidden="true"></div>
      <div class="brandText">
        <h1>Covalent Bonding Coach</h1>
        <p>Build Lewis structures by managing the electron bank as you place bonds and lone pairs.</p>
      </div>
      <div class="topbarActions">
        <button id="newMolBtn" class="btn secondary">New molecule</button>
      </div>
    </div>
    <div class="accentLine" aria-hidden="true"></div>
  </header>

  <main class="wrap">
    <section class="card">
      <div class="cardHeader">
        <div>
          <div class="kicker">Molecule</div>
          <div id="molName" class="molName">—</div>
          <div id="molPrompt" class="muted">Loading…</div>
        </div>
        <div class="pillRow">
          <span class="pill" id="modePill">Mode: Guided</span>
        </div>
      </div>
    </section>

    <!-- STEP 1 -->
    <section class="card">
      <div class="stepTitle">
        <div>
          <h2>Step 1: Count electrons + choose the central atom</h2>
          <p class="muted">You must confirm the <strong>total valence electrons</strong> before building.</p>
        </div>
      </div>

      <div class="grid2">
        <div class="panel">
          <label class="label">Total valence electrons (number)</label>
          <div class="row">
            <input id="studentTotal" class="input" type="number" min="0" placeholder="e.g., 16" />
            <button id="checkTotalBtn" class="btn">Check</button>
          </div>
          <div id="totalFeedback" class="notice muted">Enter your total, then click <strong>Check</strong>.</div>

          <div class="divider"></div>

          <label class="label">Central atom</label>
          <div class="row">
            <select id="centralSelect" class="select" disabled>
              <option value="">Select…</option>
            </select>
            <button id="lockCentralBtn" class="btn" disabled>Lock central atom</button>
            <button id="resetBtn" class="btn secondary" disabled>Reset build</button>
          </div>

          <div id="centralFeedback" class="notice muted">
            Check the total electrons first.
          </div>
        </div>

        <div class="panel bankPanel">
          <div class="bankHeader">
            <div>
              <div class="bankTitle">Electron bank</div>
              <div class="bankSub muted">Bonds and lone pairs spend electrons.</div>
            </div>
            <div class="bankNums">
              <div class="bankNum">
                <div class="bankNumLabel">Total</div>
                <div id="bankTotal" class="bankNumValue">—</div>
              </div>
              <div class="bankNum">
                <div class="bankNumLabel">Remaining</div>
                <div id="bankRemain" class="bankNumValue remain">—</div>
              </div>
            </div>
          </div>
          <div class="muted small">
            Rules: single bond = 2 e⁻, double = 4 e⁻, triple = 6 e⁻, lone pair = 2 e⁻.
          </div>
          <div id="bankLockedMsg" class="notice warn">
            Electron bank will appear after you correctly confirm the total valence electrons.
          </div>
        </div>
      </div>
    </section>

    <!-- STEP 2 -->
    <section class="card">
      <div class="stepTitle">
        <div>
          <h2>Step 2: Build the model</h2>
          <p class="muted">Drag one bond into the space <strong>between</strong> atoms. Drag lone pairs into slots around atoms.</p>
        </div>
        <div class="stepActions">
          <button id="checkBtn" class="btn" disabled>Check molecule</button>
          <button id="showBtn" class="btn secondary" disabled>Show correct model</button>
          <button id="clearBtn" class="btn secondary" disabled>Clear placements</button>
        </div>
      </div>

      <div class="grid2 wide">
        <div class="panel">
          <div class="panelTitle">Model</div>
          <div class="modelWrap">
            <svg id="bondSvg" class="bondSvg" width="100%" height="100%" aria-hidden="true"></svg>
            <div id="model" class="modelArea">
              <div class="muted">Lock a central atom to begin building.</div>
            </div>
          </div>

          <div id="feedback" class="feedback muted">Build a structure, then click <strong>Check molecule</strong>.</div>
        </div>

        <div class="panel">
          <div class="panelTitle">Toolbox</div>

          <div class="toolbox">
            <div class="tool" draggable="true" data-type="bond" data-order="1" data-cost="2">
              <div class="toolIcon">—</div>
              <div class="toolText">
                <div class="toolName">Single bond</div>
                <div class="toolSub">Costs 2 e⁻</div>
              </div>
            </div>

            <div class="tool" draggable="true" data-type="bond" data-order="2" data-cost="4">
              <div class="toolIcon">=</div>
              <div class="toolText">
                <div class="toolName">Double bond</div>
                <div class="toolSub">Costs 4 e⁻</div>
              </div>
            </div>

            <div class="tool" draggable="true" data-type="bond" data-order="3" data-cost="6">
              <div class="toolIcon">≡</div>
              <div class="toolText">
                <div class="toolName">Triple bond</div>
                <div class="toolSub">Costs 6 e⁻</div>
              </div>
            </div>

            <div class="tool" draggable="true" data-type="lp" data-cost="2">
              <div class="toolIcon">••</div>
              <div class="toolText">
                <div class="toolName">Lone pair</div>
                <div class="toolSub">Costs 2 e⁻</div>
              </div>
            </div>
          </div>

          <div class="notice tip">
            <strong>Tip:</strong> Use bonds to connect atoms first, then spend remaining electrons as lone pairs to complete outer shells.
          </div>

          <div class="notice tip">
            <strong>Quick reminders:</strong>
            <ul class="bullets">
              <li>H: 1 bond, 0 lone pairs (duet rule).</li>
              <li>Halogens (F, Br): often 1 bond + 3 lone pairs.</li>
              <li>O: often 2 total bonds + 2 lone pairs.</li>
              <li>N: often 3 total bonds + 1 lone pair.</li>
            </ul>
          </div>
        </div>
      </div>
    </section>

    <footer class="footer muted small">
      Built for first-year chemistry practice: count → choose central → build → check.
    </footer>
  </main>

  <script src="lewis.js"></script>
</body>
</html>
