<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Covalent Bonding Coach</title>
  <link rel="stylesheet" href="lewis.css" />
</head>
<body>
  <header class="topbar">
    <div class="topbar-inner">
      <div class="brand">
        <div class="brand-badge" aria-hidden="true"></div>
        <div>
          <div class="brand-title">Covalent Bonding Coach</div>
          <div class="brand-sub">Count valence electrons → choose/lock central atom → build the Lewis model.</div>
        </div>
      </div>
      <button id="btnNew" class="btn btn-light">New molecule</button>
    </div>
  </header>

  <main class="page">
    <section class="card molecule-card">
      <div class="label">MOLECULE</div>
      <div class="molecule-row">
        <div>
          <div id="molName" class="mol-name">—</div>
          <div id="molHint" class="muted">Loading…</div>
        </div>
      </div>
    </section>

    <section class="card">
      <div class="section-title">Step 1: Count electrons + choose the central atom</div>
      <div class="muted small">
        You must confirm the <b>total valence electrons</b> before building. (Example: O has 6, so O<sub>2</sub> has 12.)
      </div>

      <div class="grid-2">
        <div class="panel">
          <label class="field-label" for="valenceInput">Total valence electrons (number)</label>
          <div class="row">
            <input id="valenceInput" class="input" type="number" inputmode="numeric" placeholder="Enter total…" />
            <button id="btnCheckValence" class="btn">Check</button>
          </div>
          <div id="valenceMsg" class="msg msg-warn" style="display:none;"></div>

          <div class="divider"></div>

          <label class="field-label" for="centralSelect">Central atom</label>
          <div class="row">
            <select id="centralSelect" class="select" disabled>
              <option value="">Select…</option>
            </select>
            <button id="btnLockCentral" class="btn" disabled>Lock central atom</button>
          </div>

          <div class="row">
            <button id="btnReset" class="btn btn-ghost">Reset build</button>
          </div>

          <div id="centralMsg" class="msg msg-neutral">Check the total electrons first.</div>
        </div>

        <div class="panel bank">
          <div class="bank-head">
            <div>
              <div class="bank-title">Electron bank</div>
              <div class="muted small">Bonds and lone pairs spend electrons.</div>
            </div>
            <div class="bank-stats">
              <div class="pill">
                <div class="pill-label">Total</div>
                <div id="bankTotal" class="pill-num">—</div>
              </div>
              <div class="pill">
                <div class="pill-label">Remaining</div>
                <div id="bankRemain" class="pill-num">—</div>
              </div>
            </div>
          </div>

          <div id="bankMsg" class="msg msg-warn">
            Electron bank will appear after you correctly confirm the total valence electrons.
          </div>

          <ul class="rules">
            <li>Single bond costs <b>2 e⁻</b></li>
            <li>Double bond costs <b>4 e⁻</b></li>
            <li>Triple bond costs <b>6 e⁻</b></li>
            <li>Lone pair (••) costs <b>2 e⁻</b></li>
          </ul>
        </div>
      </div>
    </section>

    <section class="card">
      <div class="section-title">Step 2: Build the model</div>
      <div class="muted small">
        Drag one bond into the <b>space between atoms</b>. Drag lone pairs (••) into the boxes around atoms.
        Click a placed item to remove it.
      </div>

      <div class="row actions">
        <button id="btnCheckMol" class="btn" disabled>Check molecule</button>
        <button id="btnShowCorrect" class="btn btn-light" disabled>Show correct model</button>
        <button id="btnClear" class="btn btn-ghost" disabled>Clear placements</button>
      </div>

      <div class="grid-2 model-grid">
        <div class="panel">
          <div class="panel-title">Model</div>
          <div id="modelStage" class="stage">
            <div class="stage-placeholder muted">Confirm total valence electrons and lock the central atom to begin.</div>
          </div>
          <div class="stage-footer muted small">
            Build bonds between atoms first. Then add lone pairs (••) to complete outer shells.
          </div>
        </div>

        <div class="panel toolbox">
          <div class="panel-title">Toolbox</div>

          <div class="tool" draggable="true" data-item="single" aria-label="Single bond">
            <div class="tool-icon">—</div>
            <div>
              <div class="tool-name">Single bond</div>
              <div class="tool-sub">Costs 2 e⁻</div>
            </div>
          </div>

          <div class="tool" draggable="true" data-item="double" aria-label="Double bond">
            <div class="tool-icon">=</div>
            <div>
              <div class="tool-name">Double bond</div>
              <div class="tool-sub">Costs 4 e⁻</div>
            </div>
          </div>

          <div class="tool" draggable="true" data-item="triple" aria-label="Triple bond">
            <div class="tool-icon">≡</div>
            <div>
              <div class="tool-name">Triple bond</div>
              <div class="tool-sub">Costs 6 e⁻</div>
            </div>
          </div>

          <div class="tool" draggable="true" data-item="lone" aria-label="Lone pair">
            <div class="tool-icon">••</div>
            <div>
              <div class="tool-name">Lone pair</div>
              <div class="tool-sub">Costs 2 e⁻</div>
            </div>
          </div>

          <div class="tipbox">
            <div class="tip-title">Quick reminders</div>
            <ul>
              <li><b>Hydrogen</b> makes <b>1 bond</b> and has <b>0 lone pairs</b>.</li>
              <li><b>Halogens</b> (F, Cl, Br) usually make <b>1 bond</b> and have <b>3 lone pairs</b>.</li>
              <li><b>Oxygen</b> often has <b>2 bonds total</b> and <b>2 lone pairs</b>.</li>
              <li><b>Nitrogen</b> often has <b>3 bonds total</b> and <b>1 lone pair</b>.</li>
            </ul>
          </div>
        </div>
      </div>

      <div id="feedback" class="feedback" style="display:none;"></div>
    </section>
  </main>

  <script src="lewis.js"></script>
</body>
</html>
